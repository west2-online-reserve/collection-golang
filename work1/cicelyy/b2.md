# 切片和数组的区别

## 长度 

- **数组**：长度是固定的，一旦声明，其长度不能改变。
- **切片**：长度是动态的，可以增长和缩短。

## 声明方式

**数组**：声明时需要指定数组的长度。

```go
var arr [5]int // 声明一个长度为5的整数数组
```

**切片**：声明时不需要指定长度，通常用一个已存在的数组或另一个切片来初始化。

```go
var slice []int // 声明一个整数切片
slice = make([]int, 0) // 使用make函数初始化切片
```

## 内存分配

- **数组**：是一个连续的内存块，数组中的元素在内存中是连续存放的。
- **切片**：是一个包含三个元素（指针、长度、容量）的结构体，指向底层数组，切片本身不包含所有的数据。

## 性能

- **数组**：由于是连续内存，所以访问速度快。
- **切片**：由于可能包含指针，所以访问速度可能比数组稍慢，但通常可以忽略不计。

## **操作**

- **数组**：只能通过索引访问单个元素，不能直接进行切片操作。
- **切片**：可以使用切片操作符`[:]`来获取子切片，例如`slice[1:3]`。

## 传递函数

- **数组**：作为参数传递给函数时，实际上是通过值传递的，这意味着传递的是整个数组的副本。
- **切片**：作为参数传递给函数时，是通过引用传递的，这意味着函数内部对切片的修改会影响到原切片。

## 容量

数组：没有容量的概念

切片：有容量的概念，表示切片可以扩展到的最大长度，即从切片开始到底层数组末尾的元素数量

## **内置函数**

- **数组**：没有内置的创建、复制等函数。
- **切片**：有内置的创建（`make`）、复制（`copy`）、长度（`len`）、容量（`cap`）等函数。

## **用途**

- **数组**：适用于长度固定且已知的情况。
- **切片**：适用于长度可变的情况，更灵活。

切片是建立在数组之上的，它们提供了更多的灵活性和便利性，因此在Go语言中使用得更为广泛。

# Go中创建切片有7种方式

## **使用`make`函数**

```go
slice := make([]int, length, capacity)
```

## **数组类型转换**

```go
var array [5]int
slice := array[:]
```

## **切片字面量**

```go
slice := []int{1, 2, 3, 4, 5}
```

## **使用`append`函数**

```go
var slice []int
slice = append(slice, 1, 2, 3)
```

## **切片的切片**

```go
slice := originalSlice[start:end]
```

## **复制切片**

复制一整个

```go
src := []int{1, 2, 3}
dest := make([]int, len(src))
copy(dest, src)
```

复制一部分

```go
src := []int{1, 2, 3, 4, 5}
dest := make([]int, 3)
n := copy(dest, src[1:]) // 从src的第二个元素开始复制
```

## **使用`new`函数**

```go
slice := new([]int) // 返回的是*[]int
```

# Go中创建map有7种方式

## **使用`make`函数**

```go
m := make(map[string]int)
```

## **Map字面量**

```go
m := map[string]int{"a": 1, "b": 2, "c": 3}
```

##  **复合字面量**

```go
m := map[string]int{
    "a": 1,
    "b": 2,
    "c": 3,
}
```

## **声明后初始化**

```go
var m map[string]int
m = make(map[string]int)
```

##  **使用`var`声明**

```go
var m map[string]int
```

## **使用`new`函数**

```go
m := new(map[string]int)
```

##  **从其他map复制**

```go
src := map[string]int{"a": 1, "b": 2}
dest := make(map[string]int)
for k, v := range src {
    dest[k] = v
}
```

## **使用`append`函数**

```go
var m []map[string]int
m = append(m, map[string]int{"a": 1})
```

最常用的是`make`函数和map字面量这两种方式。

